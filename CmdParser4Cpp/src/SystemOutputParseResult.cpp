// Copyright (c) 2016 Per Malmberg
// Licensed under MIT, see LICENSE file. 

#include "SystemOutputParseResult.h"
#include <iostream>
#include <string>

namespace com {
namespace codezeal {
namespace commandline {

//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
SystemOutputParseResult::SystemOutputParseResult()
	: myLines()
{
}

//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
SystemOutputParseResult::~SystemOutputParseResult()
{
}

//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
std::string
SystemOutputParseResult::GetParseResult()
{
	std::string res;
	for( auto& s : myLines ) {
		res.append( s ).append( "\r\n" );
	}

	return res;
}

//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void
SystemOutputParseResult::UnknownArguments( const std::vector<std::string>& leftovers )
{
	std::string line = "Unknown arguments:";
	for( auto s : leftovers ) {
		line.append( " " ).append( s );
	}
	myLines.push_back( line );
}

//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void
SystemOutputParseResult::NotEnoughParameters( const std::string& argument, int minParameterCount )
{
	std::string line = "Not enough parameters, argument '";
	line.append( argument ).append( "' requires " ).append( std::to_string( minParameterCount ) );
	myLines.push_back( line );
}

//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void
SystemOutputParseResult::FailedToParseArgument( const std::string& argument )
{
	std::string line = "Failed to parse argument '";
	line.append( argument ).append( "'" );
	myLines.push_back( line );
}

//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void
SystemOutputParseResult::ArgumentSpecifiedMultipleTimes( const std::string& argument )
{
	std::string line = "The argument '";
	line.append( argument );
	line.append( "' is specified multiple times." );
	myLines.push_back( line );
}

//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void
SystemOutputParseResult::MultipleMultiArgumentsSpecified()
{
	myLines.push_back( "Multiple arguments which allows for variable parameter count are specified on the command line." );
}

//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void
SystemOutputParseResult::MultiArgumentsMustBePalcedLast()
{
	myLines.push_back( "An argument that allows variable number of parameters must be places last on the command line." );
}

//////////////////////////////////////////////////////////////////////////
//
//
//////////////////////////////////////////////////////////////////////////
void
SystemOutputParseResult::MissingMandatoryArgument( const std::string& argument )
{
	std::string line = "The mandatory argument '";
	line.append( argument );
	line.append( "' is missing" );
	myLines.push_back( line );
}



} // END commandline
} // END codezeal
} // com